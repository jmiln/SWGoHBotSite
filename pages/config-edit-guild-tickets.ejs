<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include("../partials/head") -%>
        <link rel="stylesheet" href="/css/config-edit.css">
    </head>

    <body>
        <header>
            <%- include("../partials/nav") -%>
        </header>

        <main class="page-wrapper" id="main-content">
            <div class="column w80 autoMargin" style="padding-top: 2rem; padding-bottom: 2rem;">
                <h1>Guild Tickets Settings</h1>

                <form method="POST" action="/config/guild-tickets" class="edit-form">
                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">

                    <div class="form-group">
                        <div class="form-checkbox-row">
                            <input
                                type="checkbox"
                                id="enabled"
                                name="enabled"
                                class="form-checkbox"
                                <%= userConfig && userConfig.guildTickets && userConfig.guildTickets.enabled ? 'checked' : '' %>
                            >
                            <label for="enabled" class="form-checkbox-label">Enable Guild Tickets</label>
                        </div>
                        <p class="form-hint">Watch guild members and log who has not hit the daily 600 tickets.</p>
                    </div>

                    <div class="form-group">
                        <label for="sortBy" class="form-label">Sort By</label>
                        <select id="sortBy" name="sortBy" class="form-select">
                            <option value="tickets" <%= !userConfig || !userConfig.guildTickets || userConfig.guildTickets.sortBy === 'tickets' ? 'selected' : '' %>>Tickets</option>
                            <option value="name" <%= userConfig && userConfig.guildTickets && userConfig.guildTickets.sortBy === 'name' ? 'selected' : '' %>>Name</option>
                        </select>
                        <p class="form-hint">How to sort members in the tickets report.</p>
                    </div>

                    <div class="form-group">
                        <div class="form-checkbox-row">
                            <input
                                type="checkbox"
                                id="showMax"
                                name="showMax"
                                class="form-checkbox"
                                <%= userConfig && userConfig.guildTickets && userConfig.guildTickets.showMax ? 'checked' : '' %>
                            >
                            <label for="showMax" class="form-checkbox-label">Show Max Tickets Members</label>
                        </div>
                        <p class="form-hint">Include members who have already reached the 600 ticket maximum.</p>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-save">Save</button>
                        <a href="/config" class="btn-cancel">Cancel</a>
                    </div>
                </form>
            </div>
        </main>

        <%- include("../partials/footer") -%>
    </body>
</html>
